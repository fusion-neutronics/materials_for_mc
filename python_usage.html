
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Python Usage &#8212; Materials for MC</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=01f34227"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'python_usage';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Python API" href="python_api.html" />
    <link rel="prev" title="Installation" href="installation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">Materials for MC</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Installation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Python Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="python_api.html">
    Python API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="rust_api.html">
    Rust API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="webassembly.html">
    WebAssembly
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="developer_info.html">
    Developer Info
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/fusion-neutronics/materials_for_mc" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Installation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Python Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="python_api.html">
    Python API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="rust_api.html">
    Rust API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="webassembly.html">
    WebAssembly
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="developer_info.html">
    Developer Info
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/fusion-neutronics/materials_for_mc" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Python Usage</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="python-usage">
<h1>Python Usage<a class="headerlink" href="#python-usage" title="Link to this heading">#</a></h1>
<p>The Python API allows you to make Nuclides, Elements, Materials and access their properties. If you have Configured the nuclear data then you can access macroscopic and microscopic cross sections as well.</p>
<section id="quick-start-guide">
<h2>Quick start guide<a class="headerlink" href="#quick-start-guide" title="Link to this heading">#</a></h2>
<p>In this quick start guide we</p>
<ul class="simple">
<li><p>import the package</p></li>
<li><p>configure the nuclear data</p></li>
<li><p>make a nuclide</p></li>
<li><p>get the nuclide microscopic cross section</p></li>
<li><p>make a material</p></li>
<li><p>get the material macroscopic cross section</p></li>
</ul>
<section id="import">
<h3>Import<a class="headerlink" href="#import" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">materials_for_mc</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">m4mc</span>
</pre></div>
</div>
</section>
<section id="config-the-nuclear-data">
<h3>Config the nuclear data<a class="headerlink" href="#config-the-nuclear-data" title="Link to this heading">#</a></h3>
<p>For now we will specify a single nuclear data library to use for all nuclides.
This is the simplest option other config options are covered later.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">m4mc</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">set_cross_sections</span><span class="p">(</span><span class="s2">&quot;fendl-3.2c&quot;</span><span class="p">)</span>  <span class="c1"># tendl-21 is another option</span>
</pre></div>
</div>
</section>
<section id="create-a-nuclides">
<h3>Create a nuclides<a class="headerlink" href="#create-a-nuclides" title="Link to this heading">#</a></h3>
<p>Nuclides can be made and their basic properties accessed like this</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nuclide</span> <span class="o">=</span> <span class="n">m4mc</span><span class="o">.</span><span class="n">Nuclide</span><span class="p">(</span><span class="s1">&#39;Li6&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The microscopic cross section for a specific reaction can then be found for and MT number with.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">xs</span><span class="p">,</span> <span class="n">energy</span> <span class="o">=</span> <span class="n">nuclide</span><span class="o">.</span><span class="n">microscopic_cross_section</span><span class="p">(</span><span class="n">reaction</span><span class="o">=</span><span class="s2">&quot;(n,gamma)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="creating-a-material">
<h3>Creating a Material<a class="headerlink" href="#creating-a-material" title="Link to this heading">#</a></h3>
<p>A material can be made by adding elements or nuclides with their atom fractions.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">material</span> <span class="o">=</span> <span class="n">m4mc</span><span class="o">.</span><span class="n">Material</span><span class="p">()</span>
<span class="n">material</span><span class="o">.</span><span class="n">add_element</span><span class="p">(</span><span class="s1">&#39;Li&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">material</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;B10&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p>The density must also be set to complete the material.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">material</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span><span class="p">,</span> <span class="mf">7.1</span><span class="p">)</span>  <span class="c1"># kg/m3 also accepted</span>
</pre></div>
</div>
<p>The macroscopic cross section for a specific reaction can then be found for and MT number with.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">xs</span><span class="p">,</span> <span class="n">energy</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">macroscopic_cross_section</span><span class="p">(</span><span class="n">reaction</span><span class="o">=</span><span class="s2">&quot;(n,total)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="setting-nuclear-data">
<h2>Setting nuclear data<a class="headerlink" href="#setting-nuclear-data" title="Link to this heading">#</a></h2>
<p>User control over the source of nuclear data for each on a nuclide and material level is facilitated in a few ways.</p>
<section id="config-specific-libraries">
<h3>Config specific libraries<a class="headerlink" href="#config-specific-libraries" title="Link to this heading">#</a></h3>
<p>The simplest method is to configure the package to use a single source of nuclear data for all nuclides.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">m4mc</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">set_cross_sections</span><span class="p">(</span><span class="s2">&quot;tendl-21&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Whenever nuclear data is needed this will check the users <code class="docutils literal notranslate"><span class="pre">.cache/materials_for_mc</span></code> folder to see if the JSON file for the required nuclide exists.
If the file is found then it will be used and if not the JSON file will be downloaded to the cache and then used.</p>
</section>
<section id="config-with-json-paths">
<h3>Config with JSON paths<a class="headerlink" href="#config-with-json-paths" title="Link to this heading">#</a></h3>
<p>It is also possible to download JSON files from nuclear data repos <a class="reference external" href="https://github.com/fusion-neutronics/cross_section_data_fendl_3.2c">fendl-3.2</a> and <a class="reference external" href="https://github.com/fusion-neutronics/cross_section_data_tendl_21">tendl-21</a>.Once the JSON files are saved locally then the path to these files can be used to configure the nuclear data. Replace the <code class="docutils literal notranslate"><span class="pre">tests</span></code> dir to the path to the downloaded JSON files.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">m4mc</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">set_cross_sections</span><span class="p">({</span>
    <span class="s2">&quot;Be9&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Be9.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Fe54&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Fe54.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Fe56&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Fe56.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Fe57&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Fe57.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Fe58&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Fe58.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Li6&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Li6.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Li7&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Li7.json&quot;</span><span class="p">,</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
<section id="config-with-json-paths-and-specific-libraries">
<h3>Config with JSON paths and specific libraries<a class="headerlink" href="#config-with-json-paths-and-specific-libraries" title="Link to this heading">#</a></h3>
<p>It is also possible to mix different sources when configuring the nuclear data sources. In this example we use tendl-21 for some nuclides, file paths for others and fendl-3.2c for others. Replace the <code class="docutils literal notranslate"><span class="pre">tests</span></code> dir to the path to the downloaded JSON files.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">m4mc</span><span class="o">.</span><span class="n">Config</span><span class="o">.</span><span class="n">set_cross_sections</span><span class="p">({</span>
    <span class="s2">&quot;Be9&quot;</span><span class="p">:</span> <span class="s2">&quot;tendl-21&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Fe54&quot;</span><span class="p">:</span> <span class="s2">&quot;tendl-21&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Fe56&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Fe56.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Fe57&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Fe57.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Fe58&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Fe58.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Li6&quot;</span><span class="p">:</span> <span class="s2">&quot;fendl-3.2c/Li6.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Li7&quot;</span><span class="p">:</span> <span class="s2">&quot;fendl-3.2c/Li7.json&quot;</span><span class="p">,</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
<section id="specific-nuclear-data-on-the-nuclide">
<h3>Specific nuclear data on the Nuclide<a class="headerlink" href="#specific-nuclear-data-on-the-nuclide" title="Link to this heading">#</a></h3>
<p>You can also avoid the <code class="docutils literal notranslate"><span class="pre">Config</span></code> entirely and specify the nuclear data to use on the Nuclide object directly.</p>
<p>This can be done using a nuclear data library.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nuclide</span> <span class="o">=</span> <span class="n">m4mc</span><span class="o">.</span><span class="n">Nuclide</span><span class="p">(</span><span class="s1">&#39;Li6&#39;</span><span class="p">)</span>
<span class="n">nuclide</span><span class="o">.</span><span class="n">read_nuclide_from_json</span><span class="p">(</span><span class="s1">&#39;tendl-21&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively a specific nuclear data path</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nuclide</span> <span class="o">=</span> <span class="n">m4mc</span><span class="o">.</span><span class="n">Nuclide</span><span class="p">(</span><span class="s1">&#39;Li6&#39;</span><span class="p">)</span>
<span class="n">nuclide</span><span class="o">.</span><span class="n">read_nuclide_from_json</span><span class="p">(</span><span class="s1">&#39;tests/Li6.json&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="specific-nuclear-data-on-the-material">
<h3>Specific nuclear data on the Material<a class="headerlink" href="#specific-nuclear-data-on-the-material" title="Link to this heading">#</a></h3>
<p>You can also specify the nuclear data on a material directly.
Again this can be done using a nuclear data library.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">material</span> <span class="o">=</span> <span class="n">m4mc</span><span class="o">.</span><span class="n">Material</span><span class="p">()</span>
<span class="n">material</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Li6&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">material</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span><span class="p">,</span><span class="mf">2.</span><span class="p">)</span>
<span class="n">material</span><span class="o">.</span><span class="n">read_nuclides_from_json</span><span class="p">({</span><span class="s1">&#39;Li6&#39;</span><span class="p">:</span><span class="s1">&#39;tendl-21&#39;</span><span class="p">})</span>
<span class="n">material</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="s2">&quot;294&quot;</span>  <span class="c1"># needed if there are multiple temperatures </span>
<span class="n">my_energies</span><span class="p">,</span> <span class="n">xs_dict</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">calculate_macroscopic_xs</span><span class="p">([</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<p>Alternatively a specific nuclear data path</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">material</span> <span class="o">=</span> <span class="n">m4mc</span><span class="o">.</span><span class="n">Material</span><span class="p">()</span>
<span class="n">material</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Li6&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">material</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span><span class="p">,</span><span class="mf">2.</span><span class="p">)</span>
<span class="n">material</span><span class="o">.</span><span class="n">read_nuclides_from_json</span><span class="p">({</span><span class="s1">&#39;Li6&#39;</span><span class="p">:</span><span class="s1">&#39;tests/Li6.json&#39;</span><span class="p">})</span>
<span class="n">material</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="s2">&quot;294&quot;</span>  <span class="c1"># needed if there are multiple temperatures </span>
<span class="n">my_energies</span><span class="p">,</span> <span class="n">xs_dict</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">calculate_macroscopic_xs</span><span class="p">([</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</section>
</section>
<section id="monte-carlo-transport-features">
<h2>Monte Carlo transport features<a class="headerlink" href="#monte-carlo-transport-features" title="Link to this heading">#</a></h2>
<p>If building a Monte Carlo code on top of this package then it is recommended to use the Rust API to access the Monte Carlo specific properties as it offers a offers a speed advantage.<br />
However the Python API also provides access to all the Monte Carlo Transport properties such as mean free path, sampling interaction distance, interacting nuclide and interacting reaction.</p>
<section id="mean-free-path">
<h3>Mean free path<a class="headerlink" href="#mean-free-path" title="Link to this heading">#</a></h3>
<p>The mean free path of a neutron with a specified energy in a material can be found using <code class="docutils literal notranslate"><span class="pre">Material.mean_free_path_neutron()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">materials_for_mc</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">m4mc</span>
<span class="n">mat1</span> <span class="o">=</span> <span class="n">m4mc</span><span class="o">.</span><span class="n">Material</span><span class="p">()</span>
<span class="n">mat1</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Li6&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mat1</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s1">&#39;Li7&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mat1</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s1">&#39;g/cm3&#39;</span><span class="p">,</span><span class="mf">1.</span><span class="p">)</span>
<span class="n">mat1</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="s2">&quot;294&quot;</span>
<span class="n">mat1</span><span class="o">.</span><span class="n">read_nuclides_from_json</span><span class="p">({</span><span class="s1">&#39;Li6&#39;</span><span class="p">:</span><span class="s1">&#39;tests/Li6.json&#39;</span><span class="p">,</span> <span class="s1">&#39;Li7&#39;</span><span class="p">:</span><span class="s1">&#39;tests/Li7.json&#39;</span><span class="p">})</span>
<span class="n">mean_free_path</span> <span class="o">=</span> <span class="n">mat1</span><span class="o">.</span><span class="n">mean_free_path_neutron</span><span class="p">(</span><span class="mf">14e6</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;mean free path is </span><span class="si">{</span><span class="n">mean_free_path</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sample-distance-to-collision">
<h3>Sample distance to collision<a class="headerlink" href="#sample-distance-to-collision" title="Link to this heading">#</a></h3>
<p>The distance to the collision can be sampled for a given neutron energy using <code class="docutils literal notranslate"> <span class="pre">Material.distance</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">collision()</span></code>.
This is used by Monte Carlo codes to determine if an interaction occurs within the material.</p>
<p>The distance to a collision within a material can be sampled</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">materials_for_mc</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">m4mc</span>
<span class="n">mat</span> <span class="o">=</span> <span class="n">m4mc</span><span class="o">.</span><span class="n">Material</span><span class="p">()</span>
<span class="n">mat</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s2">&quot;Li6&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">mat</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s2">&quot;g/cm3&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>
<span class="n">mat</span><span class="o">.</span><span class="n">read_nuclides_from_json</span><span class="p">({</span><span class="s2">&quot;Li6&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Li6.json&quot;</span><span class="p">})</span>
<span class="n">mat</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="s2">&quot;294&quot;</span>
<span class="n">mat</span><span class="o">.</span><span class="n">calculate_macroscopic_xs</span><span class="p">()</span>  <span class="c1"># Ensure xs are calculated</span>
<span class="n">sampled_distance</span> <span class="o">=</span> <span class="n">mat</span><span class="o">.</span><span class="n">sample_distance_to_collision</span><span class="p">(</span><span class="n">energy</span><span class="o">=</span><span class="mf">14e6</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1234</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;sampled interaction distance is </span><span class="si">{</span><span class="n">sampled_distance</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sample-interacting-nuclide">
<h3>Sample interacting nuclide<a class="headerlink" href="#sample-interacting-nuclide" title="Link to this heading">#</a></h3>
<p>If the sampled distance is less than the mean free path then an interaction happens.
Monte Carlo codes typically then sample the interacting nuclide.
The interacting nuclide can be sampled for a given neutron energy using <code class="docutils literal notranslate"><span class="pre">material.</span> <span class="pre">sample_interacting_nuclide()</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">materials_for_mc</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">m4mc</span>
<span class="n">material</span> <span class="o">=</span> <span class="n">m4mc</span><span class="o">.</span><span class="n">Material</span><span class="p">()</span>
<span class="n">material</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s2">&quot;Li6&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">material</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="s2">&quot;Li7&quot;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">material</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s2">&quot;g/cm3&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">material</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="s2">&quot;294&quot;</span>
<span class="n">material</span><span class="o">.</span><span class="n">read_nuclides_from_json</span><span class="p">({</span>
    <span class="s2">&quot;Li6&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Li6.json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Li7&quot;</span><span class="p">:</span> <span class="s2">&quot;tests/Li7.json&quot;</span><span class="p">,</span>
<span class="p">})</span>
<span class="c1"># Calculate per-nuclide macroscopic total xs</span>
<span class="n">material</span><span class="o">.</span><span class="n">calculate_macroscopic_xs</span><span class="p">(</span><span class="n">mt_filter</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">by_nuclide</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">interacting_nuclide</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">sample_interacting_nuclide</span><span class="p">(</span><span class="n">energy</span><span class="o">=</span><span class="mf">2.5e6</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">456</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;interacting nuclide is </span><span class="si">{</span><span class="n">interacting_nuclide</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sample-interacting-reaction">
<h3>Sample interacting reaction<a class="headerlink" href="#sample-interacting-reaction" title="Link to this heading">#</a></h3>
<p>Once the interacting nuclide is known then the reaction can be sampled using <code class="docutils literal notranslate"><span class="pre">Nuclide.sample_reaction()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">materials_for_mc</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">m4mc</span>
<span class="n">nuc</span> <span class="o">=</span> <span class="n">m4mc</span><span class="o">.</span><span class="n">Nuclide</span><span class="p">(</span><span class="s1">&#39;Li6&#39;</span><span class="p">)</span>
<span class="n">nuc</span><span class="o">.</span><span class="n">read_nuclide_from_json</span><span class="p">(</span><span class="s1">&#39;tests/Li6.json&#39;</span><span class="p">)</span>
<span class="n">reaction</span> <span class="o">=</span> <span class="n">nuc</span><span class="o">.</span><span class="n">sample_reaction</span><span class="p">(</span><span class="n">energy</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="s1">&#39;294&#39;</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;interacting reaction is </span><span class="si">{</span><span class="n">reaction</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-start-guide">Quick start guide</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#import">Import</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#config-the-nuclear-data">Config the nuclear data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-nuclides">Create a nuclides</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-material">Creating a Material</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-nuclear-data">Setting nuclear data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#config-specific-libraries">Config specific libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#config-with-json-paths">Config with JSON paths</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#config-with-json-paths-and-specific-libraries">Config with JSON paths and specific libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#specific-nuclear-data-on-the-nuclide">Specific nuclear data on the Nuclide</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#specific-nuclear-data-on-the-material">Specific nuclear data on the Material</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#monte-carlo-transport-features">Monte Carlo transport features</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-free-path">Mean free path</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-distance-to-collision">Sample distance to collision</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-interacting-nuclide">Sample interacting nuclide</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-interacting-reaction">Sample interacting reaction</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/python_usage.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>